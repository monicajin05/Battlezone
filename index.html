<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Battle Zone</title>
    
    <link type="text/css" rel="stylesheet" href="rasterize.css">

    <script type="text/javascript" src="gl-matrix.js"></script>
    <script type="text/javascript">
      // decide which file to load
      const params = new URLSearchParams(window.location.search);
      const mode = params.get("mode");  // alt or null

      const script = document.createElement("script");
      script.type = "text/javascript";
      script.src = (mode === "alt") ? "rasterize_alt.js" : "rasterize.js";

      script.onload = function () {
        if (typeof main === "function") {
          main();
        } else {
          console.error("main() is not defined in the loaded script.");
        }
      };

      document.head.appendChild(script);
    </script>  </head>

  <body onload="main();">
    <canvas id="myImageCanvas" width="512" height="512"></canvas>
    <canvas id="myWebGLCanvas" width="512" height="512"></canvas> 

    <div id="crosshair">
      <div class="vert"></div>
      <div class="horiz"></div>
    </div>

    <div id="score" style="
      position: absolute;
      top: 10px;
      left: 10px;
      color: white;
      font-family: sans-serif;
      font-size: 20px;
      z-index: 10;
    ">
      Score: 0
    </div>
  </body>

</html>
